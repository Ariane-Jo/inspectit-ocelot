inspectit:
  config:
    http:
      frequency: 5s
      attributes:
        key: value
      
  logging:
    debug: false
     
  
  instrumentation:
    data:
      dummyEoi: {down-propagation: NONE, is-tag: false}
      dummyEss: {down-propagation: NONE, is-tag: false}
      executionOrder: {up-propagation: GLOBAL, down-propagation: GLOBAL, is-tag: false}
      stackDepth: {down-propagation: GLOBAL, is-tag: false}
  
    scopes:
      my_method:
        type: 
          name: "greeter"
          matcher-mode: "CONTAINS_IGNORE_CASE"
        methods:
        - name: "hello"
          matcher-mode: "CONTAINS_IGNORE_CASE"
    
    rules:
      tracing_rule:
        tracing:
          start-span: true
          attributes:
            eoi: dummyEoi
            ess: dummyEss
        entry:
          dummyEoi:
            action: set
            data-input:
              value: executionOrder
          dummyEss:
            action: set
            data-input:
              value: stackDepth
          executionOrder: 
            action: increase_value_by_one
            data-input:
              current: executionOrder
          stackDepth:
            action: increase_value_by_one
            data-input:
              current: stackDepth
              
        scopes:
          my_method: true

    actions:
      increase_value_by_one:
        input:
          current: Integer
        value-body: |
          if(current == null) {
            return new Integer(0);
          }
          return Integer.valueOf(current.intValue() + 1);
